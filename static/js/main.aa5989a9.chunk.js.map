{"version":3,"sources":["redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/store.js","components/PrivateRoute.js","components/PublicRoute.js","components/Container/Container.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","App.js","index.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/Navigation/Navigation.module.css","redux/auth/auth-actions.js","components/AuthNav/AuthNav.module.css","redux/auth/auth-reducer.js","components/UserMenu/UserMenu.module.css","components/Loader/Loader.module.css","components/Loader/Loader.js","components/Container/Container.module.css","components/AppBar/AppBar.module.css"],"names":["fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","filterContact","items","createReducer","_","payload","state","filter","id","isLoading","error","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","PrivateRoute","isAuthenticated","redirectTo","children","routeProps","isLoggedIn","useSelector","authSelectors","getIsAuthenticated","to","PublicRoute","restricted","Container","className","styles","container","Navigation","nav","exact","link","activeClassName","activeLink","UserMenu","dispatch","useDispatch","name","getUserName","Button","variant","color","type","onClick","authOperations","logOut","AuthNav","AppBar","header","HomeView","lazy","RegisterView","LoginView","ContactsView","NotFoundView","App","useEffect","getCurrentUser","fallback","Loader","path","autoClose","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","token","headers","common","Authorization","register","credentials","a","registerRequest","post","response","data","registerSuccess","registerError","status","toast","logIn","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getState","persistedToken","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","info","user","getLoading","getError","module","exports","initialUserState","email","setError","LoaderComponent","loader","height","width","timeout"],"mappings":"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","file":"static/js/main.aa5989a9.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactsRequest = createAction(\n  'contacts/fetchContactsRequest',\n);\nexport const fetchContactsSuccess = createAction(\n  'contacts/fetchContactsSuccess',\n);\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const filterContact = createAction('contacts/filter');\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  filterContact,\n} from './contacts-actions';\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst isLoading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSuccess]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer('', {\n  [filterContact]: (_, { payload }) => payload,\n});\n\nconst error = createReducer(null, {\n  [fetchContactsError]: (_, { payload }) => payload,\n  [addContactError]: (_, { payload }) => payload,\n  [deleteContactError]: (_, { payload }) => payload,\n  [fetchContactsRequest]: () => null,\n  [addContactRequest]: () => null,\n  [deleteContactRequest]: () => null,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n  isLoading,\n  error,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsReducer from './contacts/contacts-reducer';\nimport authReducer from './auth/auth-reducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\nexport default function PrivateRoute({\n  isAuthenticated,\n  redirectTo,\n  children,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\nexport default function PublicRoute({\n  isAuthenticated,\n  redirectTo,\n  children,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn && routeProps.restricted ? (\n        <Redirect to={redirectTo} />\n      ) : (\n        children\n      )}\n    </Route>\n  );\n}\n","import PropTypes from 'prop-types';\nimport styles from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\nimport styles from './Navigation.module.css';\n\nexport default function Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <nav className={styles.nav}>\n      <NavLink\n        to=\"/\"\n        exact\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Домівка\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink\n          to=\"/contacts\"\n          exact\n          className={styles.link}\n          activeClassName={styles.activeLink}\n        >\n          Контакти\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n","import { useSelector, useDispatch } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport Button from '@material-ui/core/Button';\nimport styles from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUserName);\n\n  return (\n    <div className={styles.container}>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Вийти\n      </Button>\n      <span className={styles.name}>{name}</span>\n    </div>\n  );\n}\n","import { NavLink } from 'react-router-dom';\nimport styles from './AuthNav.module.css';\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Зареєструватися\n      </NavLink>\n\n      <NavLink\n        to=\"/login\"\n        exact\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Увійти\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport Navigation from '../Navigation';\nimport UserMenu from '../UserMenu';\nimport AuthNav from '../AuthNav';\nimport { authSelectors } from '../../redux/auth';\nimport styles from './AppBar.module.css';\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <header className={styles.header}>\n      <Navigation />\n\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { lazy, Suspense, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport Container from './components/Container';\nimport AppBar from './components/AppBar';\nimport LoaderComponent from './components/Loader';\nimport { authOperations } from './redux/auth';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst HomeView = lazy(() =>\n  import('./views/HomeView' /* webpackChunkName: \"home-view\" */),\n);\n\nconst RegisterView = lazy(() =>\n  import('./views/RegisterView' /* webpackChunkName: \"register-view\" */),\n);\nconst LoginView = lazy(() =>\n  import('./views/LoginView' /* webpackChunkName: \"login-view\" */),\n);\nconst ContactsView = lazy(() =>\n  import('./views/ContactsView' /* webpackChunkName: \"contacts-view\" */),\n);\n\nconst NotFoundView = lazy(() =>\n  import('./views/NotFoundView' /* webpackChunkName: \"not-found-view\" */),\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n\n      <Suspense fallback={<LoaderComponent />}>\n        <Switch>\n          <PublicRoute path=\"/\" exact>\n            <HomeView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/register\" restricted redirectTo=\"/contacts\">\n            <RegisterView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\n            <LoginView />\n          </PublicRoute>\n\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <ContactsView />\n          </PrivateRoute>\n\n          <Route>\n            <NotFoundView />\n          </Route>\n        </Switch>\n      </Suspense>\n\n      <ToastContainer autoClose={3500} />\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { store, persistor } from './redux/store';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import axios from 'axios';\nimport {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n} from './auth-actions';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const register = credentials => async dispatch => {\n  dispatch(registerRequest());\n\n  try {\n    const response = await axios.post('/users/signup', credentials);\n\n    token.set(response.data.token);\n    dispatch(registerSuccess(response.data));\n  } catch (error) {\n    dispatch(registerError(error));\n\n    if (error.response.status === 400) {\n      toast.error('Помилка створення користувача! Будь ласка спробуйте ще раз!');\n    } else if (error.response.status === 500) {\n      toast.error('Помилка на сервері! Будь-ласка спробуйте пізніше!');\n    } else {\n      toast.error('Щось пішло не так!');\n    }\n  }\n};\n\nexport const logIn = credentials => async dispatch => {\n  dispatch(loginRequest());\n\n  try {\n    const response = await axios.post('/users/login', credentials);\n\n    token.set(response.data.token);\n    dispatch(loginSuccess(response.data));\n  } catch (error) {\n    dispatch(loginError(error));\n    toast.error('Невірна адреса електронної пошти або пароль! Будь ласка, введіть правильні дані!');\n  }\n};\n\nexport const logOut = () => async dispatch => {\n  dispatch(logoutRequest());\n\n  try {\n    await axios.post('/users/logout');\n\n    token.unset();\n    dispatch(logoutSuccess());\n  } catch (error) {\n    dispatch(logoutError(error));\n\n    if (error.response.status === 500) {\n      toast.error('Помилка на сервері! Будь-ласка спробуйте пізніше!');\n    } else {\n      toast.error('Щось пішло не так! Перезавантажте сторінку!');\n    }\n  }\n};\n\nexport const getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n\n  if (!persistedToken) {\n    return;\n  }\n\n  token.set(persistedToken);\n  dispatch(getCurrentUserRequest());\n\n  try {\n    const response = await axios.get('/users/current');\n\n    dispatch(getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(getCurrentUserError(error));\n    token.unset();\n    toast.info('Час вашої сесії вичерпався. Будь ласка, увійдіть ще раз!');\n  }\n};\n","export const getIsAuthenticated = state => state.auth.isAuthenticated;\nexport const getUserName = state => state.auth.user.name;\nexport const getLoading = state => state.auth.isLoading;\nexport const getError = state => state.auth.error;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__12o2K\",\"activeLink\":\"Navigation_activeLink__2rUFB Navigation_link__12o2K\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const registerRequest = createAction('auth/registerRequest');\nexport const registerSuccess = createAction('auth/registerSuccess');\nexport const registerError = createAction('auth/registerError');\n\nexport const loginRequest = createAction('auth/loginRequest');\nexport const loginSuccess = createAction('auth/loginSuccess');\nexport const loginError = createAction('auth/loginError');\n\nexport const logoutRequest = createAction('auth/logoutRequest');\nexport const logoutSuccess = createAction('auth/logoutSuccess');\nexport const logoutError = createAction('auth/logoutError');\n\nexport const getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nexport const getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nexport const getCurrentUserError = createAction('auth/getCurrentUserError');\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__2ejsg\",\"activeLink\":\"AuthNav_activeLink__3huQJ\"};","import { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n} from './auth-actions';\n\nconst initialUserState = {\n  name: null,\n  email: null,\n};\n\nconst user = createReducer(initialUserState, {\n  [registerSuccess]: (_, { payload }) => payload.user,\n  [loginSuccess]: (_, { payload }) => payload.user,\n  [logoutSuccess]: () => initialUserState,\n  [getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [registerSuccess]: (_, { payload }) => payload.token,\n  [loginSuccess]: (_, { payload }) => payload.token,\n  [logoutSuccess]: () => null,\n});\n\nconst setError = (_, { payload }) => payload;\n\nconst error = createReducer(null, {\n  [registerError]: setError,\n  [loginError]: setError,\n  [logoutError]: setError,\n  [getCurrentUserError]: setError,\n  [registerRequest]: () => null,\n  [loginRequest]: () => null,\n  [logoutRequest]: () => null,\n  [getCurrentUserRequest]: () => null,\n});\n\nconst isAuthenticated = createReducer(false, {\n  [registerSuccess]: () => true,\n  [loginSuccess]: () => true,\n  [getCurrentUserSuccess]: () => true,\n  [registerError]: () => false,\n  [loginError]: () => false,\n  [getCurrentUserError]: () => false,\n  [logoutSuccess]: () => false,\n});\n\nconst isLoading = createReducer(false, {\n  [registerRequest]: () => true,\n  [registerSuccess]: () => false,\n  [registerError]: () => false,\n  [loginRequest]: () => true,\n  [loginSuccess]: () => false,\n  [loginError]: () => false,\n  [logoutRequest]: () => true,\n  [logoutSuccess]: () => false,\n  [logoutError]: () => false,\n  [getCurrentUserRequest]: () => true,\n  [getCurrentUserSuccess]: () => false,\n  [getCurrentUserError]: () => false,\n});\n\nexport default combineReducers({\n  user,\n  isAuthenticated,\n  token,\n  error,\n  isLoading,\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__GgYhE\",\"phone\":\"UserMenu_phone__2TX9_\",\"name\":\"UserMenu_name__3e8KV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__3LFDG\"};","import Loader from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nexport default function LoaderComponent() {\n  return (\n    <div className={styles.container}>\n      <Loader\n        className={styles.loader}\n        type=\"Watch\"\n        color=\"#0b0\"\n        height={85}\n        width={85}\n        timeout={4000}\n      />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1Yk8v\"};"],"sourceRoot":""}